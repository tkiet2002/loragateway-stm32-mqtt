/*
 * oled.c
 *
 *  Created on: Nov 21, 2024
 *      Author: khoav
 */
#include "main.h"
#include "oled.h"

const uint8_t font5x7[][5] = { { 0x00, 0x00, 0x00, 0x00, 0x00 }, // Space (32)
		{ 0x00, 0x00, 0x5F, 0x00, 0x00 }, // ! (33)
		{ 0x00, 0x07, 0x00, 0x07, 0x00 }, // " (34)
		{ 0x14, 0x7F, 0x14, 0x7F, 0x14 }, // # (35)
		{ 0x24, 0x2A, 0x7F, 0x2A, 0x12 }, // $ (36)
		{ 0x23, 0x13, 0x08, 0x64, 0x62 }, // % (37)
		{ 0x36, 0x49, 0x55, 0x22, 0x50 }, // & (38)
		{ 0x00, 0x05, 0x03, 0x00, 0x00 }, // ' (39)
		{ 0x00, 0x1C, 0x22, 0x41, 0x00 }, // ( (40)
		{ 0x00, 0x41, 0x22, 0x1C, 0x00 }, // ) (41)
		{ 0x14, 0x08, 0x3E, 0x08, 0x14 }, // * (42)
		{ 0x08, 0x08, 0x3E, 0x08, 0x08 }, // + (43)
		{ 0x00, 0x50, 0x30, 0x00, 0x00 }, // , (44)
		{ 0x08, 0x08, 0x08, 0x08, 0x08 }, // - (45)
		{ 0x00, 0x60, 0x60, 0x00, 0x00 }, // . (46)
		{ 0x20, 0x10, 0x08, 0x04, 0x02 }, // / (47)
		{ 0x3E, 0x51, 0x49, 0x45, 0x3E }, // 0 (48)
		{ 0x00, 0x42, 0x7F, 0x40, 0x00 }, // 1 (49)
		{ 0x42, 0x61, 0x51, 0x49, 0x46 }, // 2 (50)
		{ 0x21, 0x41, 0x45, 0x4B, 0x31 }, // 3 (51)
		{ 0x18, 0x14, 0x12, 0x7F, 0x10 }, // 4 (52)
		{ 0x27, 0x45, 0x45, 0x45, 0x39 }, // 5 (53)
		{ 0x3C, 0x4A, 0x49, 0x49, 0x30 }, // 6 (54)
		{ 0x01, 0x71, 0x09, 0x05, 0x03 }, // 7 (55)
		{ 0x36, 0x49, 0x49, 0x49, 0x36 }, // 8 (56)
		{ 0x06, 0x49, 0x49, 0x29, 0x1E }, // 9 (57)
		{ 0x00, 0x36, 0x36, 0x00, 0x00 }, // : (58)
		{ 0x00, 0x56, 0x36, 0x00, 0x00 }, // ; (59)
		{ 0x08, 0x14, 0x22, 0x41, 0x00 }, // < (60)
		{ 0x14, 0x14, 0x14, 0x14, 0x14 }, // = (61)
		{ 0x00, 0x41, 0x22, 0x14, 0x08 }, // > (62)
		{ 0x02, 0x01, 0x51, 0x09, 0x06 }, // ? (63)
		{ 0x32, 0x49, 0x79, 0x41, 0x3E }, // @ (64)
		{ 0x7E, 0x11, 0x11, 0x11, 0x7E }, // A (65)
		{ 0x7F, 0x49, 0x49, 0x49, 0x36 }, // B (66)
		{ 0x3E, 0x41, 0x41, 0x41, 0x22 }, // C (67)
		{ 0x7F, 0x41, 0x41, 0x22, 0x1C }, // D (68)
		{ 0x7F, 0x49, 0x49, 0x49, 0x41 }, // E (69)
		{ 0x7F, 0x09, 0x09, 0x09, 0x01 }, // F (70)
		{ 0x3E, 0x41, 0x49, 0x49, 0x7A }, // G (71)
		{ 0x7F, 0x08, 0x08, 0x08, 0x7F }, // H (72)
		{ 0x00, 0x41, 0x7F, 0x41, 0x00 }, // I (73)
		{ 0x20, 0x40, 0x41, 0x3F, 0x01 }, // J (74)
		{ 0x7F, 0x08, 0x14, 0x22, 0x41 }, // K (75)
		{ 0x7F, 0x40, 0x40, 0x40, 0x40 }, // L (76)
		{ 0x7F, 0x02, 0x04, 0x02, 0x7F }, // M (77)
		{ 0x7F, 0x04, 0x08, 0x10, 0x7F }, // N (78)
		{ 0x3E, 0x41, 0x41, 0x41, 0x3E }, // O (79)
		{ 0x7F, 0x09, 0x09, 0x09, 0x06 }, // P (80)
		{ 0x3E, 0x41, 0x51, 0x21, 0x5E }, // Q (81)
		{ 0x7F, 0x09, 0x19, 0x29, 0x46 }, // R (82)
		{ 0x46, 0x49, 0x49, 0x49, 0x31 }, // S (83)
		{ 0x01, 0x01, 0x7F, 0x01, 0x01 }, // T (84)
		{ 0x3F, 0x40, 0x40, 0x40, 0x3F }, // U (85)
		{ 0x1F, 0x20, 0x40, 0x20, 0x1F }, // V (86)
		{ 0x3F, 0x40, 0x38, 0x40, 0x3F }, // W (87)
		{ 0x63, 0x14, 0x08, 0x14, 0x63 }, // X (88)
		{ 0x07, 0x08, 0x70, 0x08, 0x07 }, // Y (89)
		{ 0x61, 0x51, 0x49, 0x45, 0x43 }, // Z (90)
		{ 0x00, 0x7F, 0x41, 0x41, 0x00 }, // [ (91)
		{ 0x02, 0x04, 0x08, 0x10, 0x20 }, // \ (92)
		{ 0x00, 0x41, 0x41, 0x7F, 0x00 }, // ] (93)
		{ 0x04, 0x02, 0x01, 0x02, 0x04 }, // ^ (94)
		{ 0x40, 0x40, 0x40, 0x40, 0x40 }, // _ (95)
		{ 0x00, 0x01, 0x02, 0x04, 0x00 }, // ` (96)
		{ 0x20, 0x54, 0x54, 0x54, 0x78 }, // a (97)
		{ 0x7F, 0x48, 0x44, 0x44, 0x38 }, // b (98)
		{ 0x38, 0x44, 0x44, 0x44, 0x20 }, // c (99)
		{ 0x38, 0x44, 0x44, 0x48, 0x7F }, // d (100)
		{ 0x38, 0x54, 0x54, 0x54, 0x18 }, // e (101)
		{ 0x08, 0x7E, 0x09, 0x01, 0x02 }, // f (102)
		{ 0x08, 0x14, 0x54, 0x54, 0x3C }, // g (103)
		{ 0x7F, 0x08, 0x04, 0x04, 0x78 }, // h (104)
		{ 0x00, 0x44, 0x7D, 0x40, 0x00 }, // i (105)
		{ 0x20, 0x40, 0x44, 0x3D, 0x00 }, // j (106)
		{ 0x7F, 0x10, 0x28, 0x44, 0x00 }, // k (107)
		{ 0x00, 0x41, 0x7F, 0x40, 0x00 }, // l (108)
		{ 0x7C, 0x04, 0x18, 0x04, 0x78 }, // m (109)
		{ 0x7C, 0x08, 0x04, 0x04, 0x78 }, // n (110)
		{ 0x38, 0x44, 0x44, 0x44, 0x38 }, // o (111)
		{ 0x7C, 0x14, 0x14, 0x14, 0x08 }, // p (112)
		{ 0x08, 0x14, 0x14, 0x18, 0x7C }, // q (113)
		{ 0x7C, 0x08, 0x04, 0x04, 0x08 }, // r (114)
		{ 0x48, 0x54, 0x54, 0x54, 0x20 }, // s (115)
		{ 0x04, 0x3F, 0x44, 0x40, 0x20 }, // t (116)
		{ 0x3C, 0x40, 0x40, 0x20, 0x7C }, // u (117)
		{ 0x1C, 0x20, 0x40, 0x20, 0x1C }, // v (118)
		{ 0x3C, 0x40, 0x30, 0x40, 0x3C }, // w (119)
		{ 0x44, 0x28, 0x10, 0x28, 0x44 }, // x (120)
		{ 0x0C, 0x50, 0x50, 0x50, 0x3C }, // y (121)
		{ 0x44, 0x64, 0x54, 0x4C, 0x44 }, // z (122)
		{ 0x00, 0x08, 0x36, 0x41, 0x00 }, // { (123)
		{ 0x00, 0x00, 0x7F, 0x00, 0x00 }, // | (124)
		{ 0x00, 0x41, 0x36, 0x08, 0x00 }, // } (125)
		{ 0x02, 0x01, 0x02, 0x04, 0x02 }, // ~ (126)
		};

const uint8_t font8x16[] = {
//    240,248,12,4,4,12,248,240,63,63,2,2,2,2,63,63, //A

		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00,
		0x00, //   0
		0x00, 0x00, 0x00, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x33,
		0x30, 0x00, 0x00,
		0x00, // ! 1
		0x00, 0x10, 0x0C, 0x06, 0x10, 0x0C, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00,
		0x00, // " 2
		0x40, 0xC0, 0x78, 0x40, 0xC0, 0x78, 0x40, 0x00, 0x04, 0x3F, 0x04, 0x04,
		0x3F, 0x04, 0x04,
		0x00, // # 3
		0x00, 0x70, 0x88, 0xFC, 0x08, 0x30, 0x00, 0x00, 0x00, 0x18, 0x20, 0xFF,
		0x21, 0x1E, 0x00,
		0x00, // $ 4
		0xF0, 0x08, 0xF0, 0x00, 0xE0, 0x18, 0x00, 0x00, 0x00, 0x21, 0x1C, 0x03,
		0x1E, 0x21, 0x1E,
		0x00, // % 5
		0x00, 0xF0, 0x08, 0x88, 0x70, 0x00, 0x00, 0x00, 0x1E, 0x21, 0x23, 0x24,
		0x19, 0x27, 0x21,
		0x10, // & 6
		0x10, 0x16, 0x0E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00,
		0x00, // ' 7
		0x00, 0x00, 0x00, 0xE0, 0x18, 0x04, 0x02, 0x00, 0x00, 0x00, 0x00, 0x07,
		0x18, 0x20, 0x40,
		0x00, // ( 8
		0x00, 0x02, 0x04, 0x18, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x40, 0x20, 0x18,
		0x07, 0x00, 0x00,
		0x00, // ) 9
		0x40, 0x40, 0x80, 0xF0, 0x80, 0x40, 0x40, 0x00, 0x02, 0x02, 0x01, 0x0F,
		0x01, 0x02, 0x02,
		0x00, // * 10
		0x00, 0x00, 0x00, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01, 0x1F,
		0x01, 0x01, 0x01,
		0x00, // + 11
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xB0, 0x70, 0x00,
		0x00, 0x00, 0x00,
		0x00, // , 12
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01,
		0x01, 0x01, 0x01,
		0x01, // - 13
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x30, 0x00,
		0x00, 0x00, 0x00,
		0x00, // . 14
		0x00, 0x00, 0x00, 0x00, 0x80, 0x60, 0x18, 0x04, 0x00, 0x60, 0x18, 0x06,
		0x01, 0x00, 0x00,
		0x00, // / 15
		0x00, 0xE0, 0x10, 0x08, 0x08, 0x10, 0xE0, 0x00, 0x00, 0x0F, 0x10, 0x20,
		0x20, 0x10, 0x0F,
		0x00, // 0 16
		0x00, 0x10, 0x10, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x20, 0x3F,
		0x20, 0x20, 0x00,
		0x00, // 1 17
		0x00, 0x70, 0x08, 0x08, 0x08, 0x88, 0x70, 0x00, 0x00, 0x30, 0x28, 0x24,
		0x22, 0x21, 0x30,
		0x00, // 2 18
		0x00, 0x30, 0x08, 0x88, 0x88, 0x48, 0x30, 0x00, 0x00, 0x18, 0x20, 0x20,
		0x20, 0x11, 0x0E,
		0x00, // 3 19
		0x00, 0x00, 0xC0, 0x20, 0x10, 0xF8, 0x00, 0x00, 0x00, 0x07, 0x04, 0x24,
		0x24, 0x3F, 0x24,
		0x00, // 4 20
		0x00, 0xF8, 0x08, 0x88, 0x88, 0x08, 0x08, 0x00, 0x00, 0x19, 0x21, 0x20,
		0x20, 0x11, 0x0E,
		0x00, // 5 21
		0x00, 0xE0, 0x10, 0x88, 0x88, 0x18, 0x00, 0x00, 0x00, 0x0F, 0x11, 0x20,
		0x20, 0x11, 0x0E,
		0x00, // 6 22
		0x00, 0x38, 0x08, 0x08, 0xC8, 0x38, 0x08, 0x00, 0x00, 0x00, 0x00, 0x3F,
		0x00, 0x00, 0x00,
		0x00, // 7 23
		0x00, 0x70, 0x88, 0x08, 0x08, 0x88, 0x70, 0x00, 0x00, 0x1C, 0x22, 0x21,
		0x21, 0x22, 0x1C,
		0x00, // 8 24
		0x00, 0xE0, 0x10, 0x08, 0x08, 0x10, 0xE0, 0x00, 0x00, 0x00, 0x31, 0x22,
		0x22, 0x11, 0x0F,
		0x00, // 9 25
		0x00, 0x00, 0x00, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30,
		0x30, 0x00, 0x00,
		0x00, // : 26
		0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x60,
		0x00, 0x00, 0x00,
		0x00, // ; 27
		0x00, 0x00, 0x80, 0x40, 0x20, 0x10, 0x08, 0x00, 0x00, 0x01, 0x02, 0x04,
		0x08, 0x10, 0x20,
		0x00, // < 28
		0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x00, 0x04, 0x04, 0x04, 0x04,
		0x04, 0x04, 0x04,
		0x00, // = 29
		0x00, 0x08, 0x10, 0x20, 0x40, 0x80, 0x00, 0x00, 0x00, 0x20, 0x10, 0x08,
		0x04, 0x02, 0x01,
		0x00, // > 30
		0x00, 0x70, 0x48, 0x08, 0x08, 0x08, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x30,
		0x36, 0x01, 0x00,
		0x00, // ? 31
		0xC0, 0x30, 0xC8, 0x28, 0xE8, 0x10, 0xE0, 0x00, 0x07, 0x18, 0x27, 0x24,
		0x23, 0x14, 0x0B,
		0x00, // @ 32
		0x00, 0x00, 0xC0, 0x38, 0xE0, 0x00, 0x00, 0x00, 0x20, 0x3C, 0x23, 0x02,
		0x02, 0x27, 0x38,
		0x20, // A 33
		0x08, 0xF8, 0x88, 0x88, 0x88, 0x70, 0x00, 0x00, 0x20, 0x3F, 0x20, 0x20,
		0x20, 0x11, 0x0E,
		0x00, // B 34
		0xC0, 0x30, 0x08, 0x08, 0x08, 0x08, 0x38, 0x00, 0x07, 0x18, 0x20, 0x20,
		0x20, 0x10, 0x08,
		0x00, // C 35
		0x08, 0xF8, 0x08, 0x08, 0x08, 0x10, 0xE0, 0x00, 0x20, 0x3F, 0x20, 0x20,
		0x20, 0x10, 0x0F,
		0x00, // D 36
		0x08, 0xF8, 0x88, 0x88, 0xE8, 0x08, 0x10, 0x00, 0x20, 0x3F, 0x20, 0x20,
		0x23, 0x20, 0x18,
		0x00, // E 37
		0x08, 0xF8, 0x88, 0x88, 0xE8, 0x08, 0x10, 0x00, 0x20, 0x3F, 0x20, 0x00,
		0x03, 0x00, 0x00,
		0x00, // F 38
		0xC0, 0x30, 0x08, 0x08, 0x08, 0x38, 0x00, 0x00, 0x07, 0x18, 0x20, 0x20,
		0x22, 0x1E, 0x02,
		0x00, // G 39
		0x08, 0xF8, 0x08, 0x00, 0x00, 0x08, 0xF8, 0x08, 0x20, 0x3F, 0x21, 0x01,
		0x01, 0x21, 0x3F,
		0x20, // H 40
		0x00, 0x08, 0x08, 0xF8, 0x08, 0x08, 0x00, 0x00, 0x00, 0x20, 0x20, 0x3F,
		0x20, 0x20, 0x00,
		0x00, // I 41
		0x00, 0x00, 0x08, 0x08, 0xF8, 0x08, 0x08, 0x00, 0xC0, 0x80, 0x80, 0x80,
		0x7F, 0x00, 0x00,
		0x00, // J 42
		0x08, 0xF8, 0x88, 0xC0, 0x28, 0x18, 0x08, 0x00, 0x20, 0x3F, 0x20, 0x01,
		0x26, 0x38, 0x20,
		0x00, // K 43
		0x08, 0xF8, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x3F, 0x20, 0x20,
		0x20, 0x20, 0x30,
		0x00, // L 44
		0x08, 0xF8, 0xF8, 0x00, 0xF8, 0xF8, 0x08, 0x00, 0x20, 0x3F, 0x00, 0x3F,
		0x00, 0x3F, 0x20,
		0x00, // M 45
		0x08, 0xF8, 0x30, 0xC0, 0x00, 0x08, 0xF8, 0x08, 0x20, 0x3F, 0x20, 0x00,
		0x07, 0x18, 0x3F,
		0x00, // N 46
		0xE0, 0x10, 0x08, 0x08, 0x08, 0x10, 0xE0, 0x00, 0x0F, 0x10, 0x20, 0x20,
		0x20, 0x10, 0x0F,
		0x00, // O 47
		0x08, 0xF8, 0x08, 0x08, 0x08, 0x08, 0xF0, 0x00, 0x20, 0x3F, 0x21, 0x01,
		0x01, 0x01, 0x00,
		0x00, // P 48
		0xE0, 0x10, 0x08, 0x08, 0x08, 0x10, 0xE0, 0x00, 0x0F, 0x18, 0x24, 0x24,
		0x38, 0x50, 0x4F,
		0x00, // Q 49
		0x08, 0xF8, 0x88, 0x88, 0x88, 0x88, 0x70, 0x00, 0x20, 0x3F, 0x20, 0x00,
		0x03, 0x0C, 0x30,
		0x20, // R 50
		0x00, 0x70, 0x88, 0x08, 0x08, 0x08, 0x38, 0x00, 0x00, 0x38, 0x20, 0x21,
		0x21, 0x22, 0x1C,
		0x00, // S 51
		0x18, 0x08, 0x08, 0xF8, 0x08, 0x08, 0x18, 0x00, 0x00, 0x00, 0x20, 0x3F,
		0x20, 0x00, 0x00,
		0x00, // T 52
		0x08, 0xF8, 0x08, 0x00, 0x00, 0x08, 0xF8, 0x08, 0x00, 0x1F, 0x20, 0x20,
		0x20, 0x20, 0x1F,
		0x00, // U 53
		0x08, 0x78, 0x88, 0x00, 0x00, 0xC8, 0x38, 0x08, 0x00, 0x00, 0x07, 0x38,
		0x0E, 0x01, 0x00,
		0x00, // V 54
		0xF8, 0x08, 0x00, 0xF8, 0x00, 0x08, 0xF8, 0x00, 0x03, 0x3C, 0x07, 0x00,
		0x07, 0x3C, 0x03,
		0x00, // W 55
		0x08, 0x18, 0x68, 0x80, 0x80, 0x68, 0x18, 0x08, 0x20, 0x30, 0x2C, 0x03,
		0x03, 0x2C, 0x30,
		0x20, // X 56
		0x08, 0x38, 0xC8, 0x00, 0xC8, 0x38, 0x08, 0x00, 0x00, 0x00, 0x20, 0x3F,
		0x20, 0x00, 0x00,
		0x00, // Y 57
		0x10, 0x08, 0x08, 0x08, 0xC8, 0x38, 0x08, 0x00, 0x20, 0x38, 0x26, 0x21,
		0x20, 0x20, 0x18,
		0x00, // Z 58
		0x00, 0x00, 0x00, 0xFE, 0x02, 0x02, 0x02, 0x00, 0x00, 0x00, 0x00, 0x7F,
		0x40, 0x40, 0x40,
		0x00, // [ 59
		0x00, 0x0C, 0x30, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
		0x06, 0x38, 0xC0,
		0x00, // \ 60
		0x00, 0x02, 0x02, 0x02, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x40, 0x40, 0x40,
		0x7F, 0x00, 0x00,
		0x00, // ] 61
		0x00, 0x00, 0x04, 0x02, 0x02, 0x02, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00,
		0x00, // ^ 62
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x80, 0x80, 0x80,
		0x80, 0x80, 0x80,
		0x80, // _ 63
		0x00, 0x02, 0x02, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00,
		0x00, // ` 64
		0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x19, 0x24, 0x22,
		0x22, 0x22, 0x3F,
		0x20, // a 65
		0x08, 0xF8, 0x00, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x3F, 0x11, 0x20,
		0x20, 0x11, 0x0E,
		0x00, // b 66
		0x00, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x0E, 0x11, 0x20,
		0x20, 0x20, 0x11,
		0x00, // c 67
		0x00, 0x00, 0x00, 0x80, 0x80, 0x88, 0xF8, 0x00, 0x00, 0x0E, 0x11, 0x20,
		0x20, 0x10, 0x3F,
		0x20, // d 68
		0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x1F, 0x22, 0x22,
		0x22, 0x22, 0x13,
		0x00, // e 69
		0x00, 0x80, 0x80, 0xF0, 0x88, 0x88, 0x88, 0x18, 0x00, 0x20, 0x20, 0x3F,
		0x20, 0x20, 0x00,
		0x00, // f 70
		0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x6B, 0x94, 0x94,
		0x94, 0x93, 0x60,
		0x00, // g 71
		0x08, 0xF8, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x20, 0x3F, 0x21, 0x00,
		0x00, 0x20, 0x3F,
		0x20, // h 72
		0x00, 0x80, 0x98, 0x98, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x20, 0x3F,
		0x20, 0x20, 0x00,
		0x00, // i 73
		0x00, 0x00, 0x00, 0x80, 0x98, 0x98, 0x00, 0x00, 0x00, 0xC0, 0x80, 0x80,
		0x80, 0x7F, 0x00,
		0x00, // j 74
		0x08, 0xF8, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0x20, 0x3F, 0x24, 0x02,
		0x2D, 0x30, 0x20,
		0x00, // k 75
		0x00, 0x08, 0x08, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x20, 0x3F,
		0x20, 0x20, 0x00,
		0x00, // l 76
		0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x20, 0x3F, 0x20, 0x00,
		0x3F, 0x20, 0x00,
		0x3F, // m 77
		0x80, 0x80, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x20, 0x3F, 0x21, 0x00,
		0x00, 0x20, 0x3F,
		0x20, // n 78
		0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x1F, 0x20, 0x20,
		0x20, 0x20, 0x1F,
		0x00, // o 79
		0x80, 0x80, 0x00, 0x80, 0x80, 0x00, 0x00, 0x00, 0x80, 0xFF, 0xA1, 0x20,
		0x20, 0x11, 0x0E,
		0x00, // p 80
		0x00, 0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x0E, 0x11, 0x20,
		0x20, 0xA0, 0xFF,
		0x80, // q 81
		0x80, 0x80, 0x80, 0x00, 0x80, 0x80, 0x80, 0x00, 0x20, 0x20, 0x3F, 0x21,
		0x20, 0x00, 0x01,
		0x00, // r 82
		0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x33, 0x24, 0x24,
		0x24, 0x24, 0x19,
		0x00, // s 83
		0x00, 0x80, 0x80, 0xE0, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F,
		0x20, 0x20, 0x00,
		0x00, // t 84
		0x80, 0x80, 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x00, 0x1F, 0x20, 0x20,
		0x20, 0x10, 0x3F,
		0x20, // u 85
		0x80, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x00, 0x01, 0x0E, 0x30,
		0x08, 0x06, 0x01,
		0x00, // v 86
		0x80, 0x80, 0x00, 0x80, 0x00, 0x80, 0x80, 0x80, 0x0F, 0x30, 0x0C, 0x03,
		0x0C, 0x30, 0x0F,
		0x00, // w 87
		0x00, 0x80, 0x80, 0x00, 0x80, 0x80, 0x80, 0x00, 0x00, 0x20, 0x31, 0x2E,
		0x0E, 0x31, 0x20,
		0x00, // x 88
		0x80, 0x80, 0x80, 0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x81, 0x8E, 0x70,
		0x18, 0x06, 0x01,
		0x00, // y 89
		0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x21, 0x30, 0x2C,
		0x22, 0x21, 0x30,
		0x00, // z 90
		0x00, 0x00, 0x00, 0x00, 0x80, 0x7C, 0x02, 0x02, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x3F, 0x40,
		0x40, // { 91
		0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0xFF, 0x00, 0x00,
		0x00, // | 92
		0x00, 0x02, 0x02, 0x7C, 0x80, 0x00, 0x00, 0x00, 0x00, 0x40, 0x40, 0x3F,
		0x00, 0x00, 0x00,
		0x00, // } 93
		0x00, 0x06, 0x01, 0x01, 0x02, 0x02, 0x04, 0x04, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x00, // ~ 94
		};

uint8_t data[2] = { 0x40, 0 };
uint8_t cmd[2] = { 0x00, 0 };

char OLED_I2C_ADDRESS = 0x3c;
uint8_t current_x = 0, current_y = 0;
void oled_send_command(unsigned char command) {
	cmd[1] = command;
	HAL_I2C_Master_Transmit(&hi2c1, OLED_I2C_ADDRESS << 1, cmd, 2,
	HAL_MAX_DELAY);
}

void oled_send_data(unsigned char dt) {
	data[1] = dt;
	HAL_I2C_Master_Transmit(&hi2c1, OLED_I2C_ADDRESS << 1, data, 2,
	HAL_MAX_DELAY);
}

void oled_init() {
	oled_send_command(0xAE); // T?t màn hình (Display OFF)
	oled_send_command(0xD5); // Cài ??t Clock divide ratio
	oled_send_command(0x80); // Giá tr? m?c ??nh
	oled_send_command(0xA8); // Cài ??t MUX ratio
	oled_send_command(0x3F); // 1/64 duty
	oled_send_command(0xD3); // Cài ??t Display Offset
	oled_send_command(0x00); // Không d?ch chuy?n
	oled_send_command(0x40); // Set Display Start Line thành 0
	oled_send_command(0x8D); // B?t ngu?n c?p ?i?n áp DC
	oled_send_command(0x14); // B?t ?i?n áp
	oled_send_command(0xA1); // ??o chi?u quét ngang (Segment Re-map)
	oled_send_command(0xC8); // ??o chi?u quét d?c (COM Output Scan Direction)
	oled_send_command(0xDA); // Cài ??t COM pins hardware configuration
	oled_send_command(0x12);
	oled_send_command(0x81); // Cài ??t ?? t??ng ph?n
	oled_send_command(0xff);
	oled_send_command(0xD9); // Cài ??t Pre-charge Period
	oled_send_command(0xF1);
	oled_send_command(0xDB); // Cài ??t VCOMH Deselect Level
	oled_send_command(0x40);
	oled_send_command(0xA4); // Hi?n th? toàn b? RAM
	oled_send_command(0xA6); // Ch? ?? hi?n th? bình th??ng
	oled_send_command(0xAF); // B?t màn hình (Display ON)
}

void oled_display_pattern() {
	for (unsigned char page = 0; page < 8; page++) {
		oled_send_command(0xB0 + page); // Ch?n trang
		oled_send_command(0x00); // C?t th?p
		oled_send_command(0x10); // C?t cao

		for (unsigned char col = 0; col < 128; col++) {
			oled_send_data(0); // Tô ??y d? li?u (?en toàn màn hình)
		}
	}
}

void oled_display_char(unsigned char c) {
	// N?u ký t? n?m ngoài b?ng ASCII (t? 32 ??n 127), ta b? qua
	if (c < 32 || c > 127) {
		c = 32; // Ký t? kho?ng tr?ng n?u ngoài ph?m vi
	}

	// L?y ký t? t? b?ng font và g?i lên OLED
	for (unsigned char i = 0; i < 5; i++) {
		oled_send_data(font5x7[c - 32][i]); // Tr? 32 vì font b?t ??u t? ASCII 32
	}

	// Thêm kho?ng tr?ng gi?a các ký t?
	oled_send_data(0x00);
}

void oled_set_cursor(unsigned char x, unsigned char y) {
	current_x = x;
	current_y = y;
	oled_send_command(0xB0 + y);         // ??t dòng (y) cho màn hình OLED
	oled_send_command((x & 0x0F));       // ??t c?t th?p 4 bit (x)
	oled_send_command(0x10 + (x >> 4));  // ??t c?t cao 4 bit (x)
}

void ssd1306_char_f8x16(unsigned char ch) {
	if (ch < 32 || ch > 127) {
		ch = 32;
	}
	uint8_t c, i;
	c = ch - 32;
	for (i = 0; i < 8; i++) {
		oled_send_data(font8x16[(16 * c) + i]);
		current_x++;
	}

	current_x = current_x - 8;
	current_y++;
	oled_set_cursor(current_x, current_y);

	for (i = 0; i < 8; i++) {
		oled_send_data(font8x16[(16 * c) + i + 8]);
		current_x++;
	}
	current_x++;
	current_y--;
	oled_set_cursor(current_x, current_y);
}

void oled_display_string(const char *str) {
	while (*str) {
		ssd1306_char_f8x16(*str++);
	}
}

